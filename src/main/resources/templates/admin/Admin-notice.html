<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <link rel="stylesheet" href="/admin/admin-notice.css">

    <title>Campus management</title>
</head>
<body>

<div class="admin-page">

    <div th:insert="/admin/Admin-nav.html" ></div>

    <div class="admin-home">
        <span>
          <h3>Noticeboard</h3>
          <button type="button" class="btn btn-success" id="newNoticeToggle">New notice</button>

        </span>
        <hr>

        <form class="new-notice-container" action="/new-notice" method="post" id="newNoticeContainer" style="display: none" >

            <h4>Post new notice</h4>

            <div class="new-notice">
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="floatingPassword1" placeholder="text" name="title" >
                    <label for="floatingPassword1">Notice title</label>
                </div>
                <div class="form-floating mb-3">
                    <textarea type="text" class="form-control" id="floatingPassword" placeholder="Password"  name="description"  ></textarea>
                    <label for="floatingPassword">Notice description</label>
                </div>
            </div>

            <span>
            <button class="btn btn-outline-secondary" id="newNoticeToggle1">Cancel</button>
            <button class="btn btn-outline-primary" type="submit" >Post</button>
          </span>
        </form>

        <div class="notices-container" th:if="${notices}" >

            <div class="notice" th:each="notice: ${notices}">
            <span>
              <h4 th:text="${notice.title}" ></h4>
              <p  th:text="${notice.date}"  ></p>
            </span>
                <p  th:text="${notice.description}" ></p>
            </div>


        </div>

    </div>
</div>


<script>

    const newNoticeContainer = document.getElementById("newNoticeContainer");


    let isToggle = false;

    document.getElementById("newNoticeToggle").addEventListener("click", (event)=>{
        isToggle = !isToggle;
        console.log(isToggle);
        if(isToggle){
            newNoticeContainer.style.display = "flex"
        }else{
            newNoticeContainer.style.display = "none"
        }
    })

    document.getElementById("newNoticeToggle1").addEventListener("click", (event)=>{
        isToggle = false;
    })

</script>


</body>
</html>